<ion-header class="marronClaro navbar-superior" >
  <ion-toolbar class="marronClaro">
    <div class="header-content">
      <ion-title class="blanco">Ver publicación</ion-title>
      <app-navbar-superior></app-navbar-superior>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-grid>
    <ion-row class="header-content">
      <ion-col size="2" class="centrar">
        <ion-fab (click)="darLike()">
          <ion-fab-button [ngClass]="{'marronOscuro': leHaDadoLike}">
            <ion-icon name="heart-outline"></ion-icon>
          </ion-fab-button>
        </ion-fab>
      </ion-col>
      <ion-col size="8" class="centrar">
        <ion-text class="titulo centrar">{{publicacion.titulo}}</ion-text>
      </ion-col>
      <ion-col size="2" class="centrar">
        <ion-fab>
          <ion-fab-button>
            <ion-icon name="chatbubble-outline" id="open-modal" expand="block"></ion-icon>
          </ion-fab-button>
        </ion-fab>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-modal trigger="open-modal" (willDismiss)="onWillDismiss($event)" class="marronOscuro">
    <ng-template>
      <ion-header class="marronOscuro">
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="cancel()">Cancelar</ion-button>
          </ion-buttons>
          <ion-title>Comentar Publicación</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="confirm()" [strong]="true">Confirmar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-item>
          <ion-input
            label="Comentario"
            labelPlacement="stacked"
            type="text"
            placeholder="Escribe el comentario"
            [(ngModel)]="textoComentario"
          ></ion-input>
        </ion-item>
      </ion-content>
    </ng-template>
  </ion-modal>


  <img class="imagenes" src="{{publicacion.imagenLink}}">

  <ion-grid class="centrar">
    <ion-row>
      <ion-col>
        <ion-grid>
          <ion-row class="fila raciones">
            <ion-icon name="happy-outline" class="icono"></ion-icon>
            <ion-text class="texto">{{publicacion.dificultad}}</ion-text>
          </ion-row>
        </ion-grid>
        <ion-grid>
          <ion-row class="fila">
            <ion-icon name="stopwatch-outline"></ion-icon>
            <ion-text class="texto">{{publicacion.tiempoCoccion}}</ion-text>
          </ion-row>
        </ion-grid>
      </ion-col>

      <ion-col>
        <ion-grid>
          <ion-row class="fila">
            <ion-icon name="flash-outline"></ion-icon>
            <ion-text class="texto">{{publicacion.tiempoPreparacion}}</ion-text>
          </ion-row>
        </ion-grid>
        <ion-grid>
          <ion-row class="fila raciones">
            <ion-icon name="restaurant-outline"></ion-icon>
            <ion-text class="texto">{{publicacion.raciones}}</ion-text>
          </ion-row>
        </ion-grid>
      </ion-col>
    </ion-row>
  </ion-grid>


  <div>
    <ion-label class="textoLabels">Descripción</ion-label>

    <ion-card color="light">
      <ion-card-content>
        <ion-text class="texto">{{publicacion.descripcion}}</ion-text>
      </ion-card-content>
    </ion-card>

    <ion-label class="textoLabels">Receta</ion-label>

    <ion-card color="light">
      <ion-card-content>
        <ion-text class="texto">{{publicacion.receta}}</ion-text>
      </ion-card-content>
    </ion-card>

    <ion-label class="textoLabels">Ingredientes</ion-label>

    <ion-card color="light">
      <ion-card-content>
        <ion-text class="texto">Ingredientes de la receta Ingredientes de la receta Ingredientes de la receta
          Ingredientes de la receta Ingredientes de la receta Ingredientes de la receta Ingredientes de la receta Ingredientes de la receta
        </ion-text>
      </ion-card-content>
    </ion-card>
  </div>

  <hr>

  <ion-label class="textoLabels">Comentarios</ion-label>

  <ion-grid class="sin-espacios">
    <ion-row class="sin-espacios">

      <ion-col size="12" class="sin-espacios"  *ngFor="let comentario of comentarios">
        <ion-item class="tarjetaImpar">
          <ion-thumbnail slot="start">
            <img class="img" alt="Silhouette of mountains" src="{{comentario.fotoUsuario}}"/>
          </ion-thumbnail>
          <ion-grid>
            <ion-row>
              <ion-col>
                <ion-label class="textoUsuario">{{comentario.nombreUsuario}}</ion-label>
                <ion-label class="mensaje">{{comentario.comentario}}</ion-label>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </ion-col>

    </ion-row>
  </ion-grid>

</ion-content>


<ion-button expand="block" class="editarPerfil" (click)="navigateToPerfil()">Ver Perfil</ion-button>
<app-navbar-inferior></app-navbar-inferior>
